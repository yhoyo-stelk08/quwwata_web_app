import{r as s,y as R,j as e,a as T}from"./app-87Ikuqtk.js";import{o as I,P as p,D as _}from"./index.module-CLxmetEk.js";import{A}from"./AuthenticatedLayout-iqIFWMXI.js";import{F as C}from"./index-DWWtEcst.js";import"./index-DgU2L-HG.js";import"./ApplicationLogo-GHrte27l.js";import"./transition-CZoPEwYV.js";function F({galleriesData:n,auth:h,search:y,sort_by:j,sort_direction:b}){const[o,v]=s.useState(y||""),d=s.useRef(!0),[c,u]=s.useState(""),[a]=I(o,1e3),m=s.useRef(o),[i,x]=s.useState(j||""),[r,l]=s.useState(b||""),N=["Title","Image Name","Category","Created At","Updated At"],S=t=>{const{value:P}=t.target;v(P)},f=t=>{u(t.url.split("=")[1])},w=t=>{i===t?r==="asc"?l("desc"):r==="desc"?(x(""),l("")):l("asc"):(x(t),l("asc"))},g=s.useMemo(()=>{const t=new URL(route("galleries.index"));return c&&t.searchParams.set("page",c),a&&(t.searchParams.set("search",a),a!==m.current&&(u("1"),m.current=a)),i&&(t.searchParams.set("sort_by",i),r&&t.searchParams.set("sort_direction",r)),t},[a,c,i,r,m]);return s.useEffect(()=>{if(d.current){d.current=!1;return}R.visit(g,{preserveScroll:!0,preserveState:!0,replace:!0})},[g]),e.jsx(A,{user:h.user,header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight",children:"Manage Gallery Items"}),children:e.jsx("div",{className:"bg-gray-100 py-10",children:e.jsx("div",{className:"mx-auto max-w-7xl",children:e.jsxs("div",{className:"px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex flex-col justify-start items-center sm:flex-row mt-6 w-full",children:[e.jsxs("div",{className:"relative text-sm text-gray-800 col-span-3 w-1/2",children:[e.jsx("div",{className:"absolute pl-2 left-0 top-0 bottom-0 flex items-center pointer-events-none text-gray-500",children:e.jsx(C,{})}),e.jsx("input",{onChange:S,value:o,type:"text",autoComplete:"off",placeholder:"Search Item...",id:"search",className:"block w-full rounded-lg border-0 py-2 pl-10 text-gray-900 ring-1 ring-inset ring-gray-200 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"})]}),e.jsx("div",{className:"mt-4 flex justify-end items-center sm:mt-0 sm:ml-16 sm:flex-none",children:e.jsx(T,{href:route("galleries.create"),className:"w-full inline-flex items-center justify-center rounded-md border border-transparent bg-indigo-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 sm:w-auto",children:"Add Gallery Item"})})]}),e.jsx("div",{className:"mt-8 flex flex-col",children:e.jsx("div",{className:"-my-2 -mx-4 overflow-x-auto sm:-mx-6 lg:-mx-8",children:e.jsxs("div",{className:"inline-block min-w-full py-2 align-middle md:px-6 lg:px-8",children:[e.jsx("div",{children:e.jsx(p,{meta:n.meta,onUpdatePageNumber:f})}),e.jsx(_,{data_table:n,sort_by:i,sort_direction:r,onSorting:w,columnHeader:N,deleteRoute:"galleries.destroy",editRoute:"galleries.edit",objectKey:"gallery"}),e.jsx("div",{children:e.jsx(p,{meta:n.meta,onUpdatePageNumber:f})})]})})})]})})})})}export{F as default};
