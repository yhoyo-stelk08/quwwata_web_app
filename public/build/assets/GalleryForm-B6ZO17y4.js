import{W as j,j as e,y as p}from"./app-B80Z8Zbz.js";const w=({gallery_data:t,submitRoute:l})=>{var m,d,x;const{data:o,setData:h,errors:n,clearErrors:u,processing:b}=j({title:((m=t==null?void 0:t.data)==null?void 0:m.title)||"",image_name:"",category:((d=t==null?void 0:t.data)==null?void 0:d.category)||""}),g=r=>{var a;r.preventDefault();const s=new FormData;s.append("title",o.title),s.append("category",o.category),o.image_name instanceof File&&s.append("image_name",o.image_name),(a=t==null?void 0:t.data)!=null&&a.id?(s.append("_method","PUT"),p.post(route(l,{gallery:t.data.id}),s,{onError:i=>{console.log(i)},preserveState:!0})):p.post(route(l),s,{onError:i=>{console.log(i)},preserveState:!0})},c=r=>{const{id:s,type:a,value:i,files:f}=r.target;u(s),h(s,a==="file"?f[0]:i)};return e.jsx("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:e.jsx("div",{className:"bg-white overflow-hidden shadow-sm sm:rounded-lg",children:e.jsx("div",{className:"p-6 text-gray-900",children:e.jsxs("form",{onSubmit:g,children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"title",children:"Title"}),e.jsx("input",{id:"title",name:"title",value:o.title,onChange:c,className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",type:"text",placeholder:"Enter title"}),n.title&&e.jsx("p",{className:"text-red-500 text-xs italic",children:n.title})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"category",children:"Category"}),e.jsxs("select",{id:"category",name:"category",className:"w-full py-2 px-3",value:o.category,onChange:c,children:[e.jsx("option",{value:"",children:"Select Category"}),e.jsx("option",{value:"laminated bow",children:"Laminated Bow"}),e.jsx("option",{value:"flat bow",children:"Flat Bow"}),e.jsx("option",{value:"arrows",children:"Arrows"}),e.jsx("option",{value:"accessories",children:"Accessories"})]}),n.category&&e.jsx("p",{className:"text-red-500 text-xs italic",children:n.category})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"image_name",children:"Image"}),((x=t==null?void 0:t.data)==null?void 0:x.image_name)&&e.jsx("div",{className:"mb-2",children:e.jsx("img",{src:`/storage/${t.data.image_name}`,alt:"Current Image",className:"max-h-40"})}),e.jsx("input",{id:"image_name",name:"image_name",onChange:c,className:"shadow appearance-none border rounded w-full py-0 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",type:"file",accept:"image/*"}),n.image_name&&e.jsx("p",{className:"text-red-500 text-xs italic",children:n.image_name})]}),e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("button",{className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",type:"submit",disabled:b,children:t?"Update Item":"Add Item"})})]})})})})};export{w as default};
