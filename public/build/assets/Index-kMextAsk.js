import{r as s,y as R,j as e,a as _}from"./app-87Ikuqtk.js";import{o as T,P as p,D as A}from"./index.module-CLxmetEk.js";import{A as D}from"./AuthenticatedLayout-iqIFWMXI.js";import{F as I}from"./index-DWWtEcst.js";import"./index-DgU2L-HG.js";import"./ApplicationLogo-GHrte27l.js";import"./transition-CZoPEwYV.js";function G({auth:h,search:j,sort_by:y,sort_direction:b,productsData:n}){const[c,v]=s.useState(j||""),d=s.useRef(!0),[l,u]=s.useState(""),[a]=T(c,1e3),m=s.useRef(c),[o,x]=s.useState(y||""),[r,i]=s.useState(b||""),N=["Name","Price","Draw Weight","Arrow Pass","Short Description"],w=t=>{const{value:S}=t.target;v(S)},f=t=>{u(t.url.split("=")[1])},P=t=>{o===t?r==="asc"?i("desc"):r==="desc"?(x(""),i("")):i("asc"):(x(t),i("asc"))},g=s.useMemo(()=>{const t=new URL(route("manage-products.index"));return l&&t.searchParams.set("page",l),a&&(t.searchParams.set("search",a),a!==m.current&&(u("1"),m.current=a)),o&&(t.searchParams.set("sort_by",o),r&&t.searchParams.set("sort_direction",r)),t},[a,l,o,r,m]);return s.useEffect(()=>{if(d.current){d.current=!1;return}R.visit(g,{preserveScroll:!0,preserveState:!0,replace:!0})},[g]),e.jsx(D,{user:h.user,header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight",children:"Manage Products Items"}),children:e.jsx("div",{className:"bg-gray-100 py-10",children:e.jsx("div",{className:"mx-auto max-w-7xl",children:e.jsxs("div",{className:"px-4 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"flex flex-col justify-start items-center sm:flex-row mt-6 w-full",children:[e.jsxs("div",{className:"relative text-sm text-gray-800 col-span-3 w-1/2",children:[e.jsx("div",{className:"absolute pl-2 left-0 top-0 bottom-0 flex items-center pointer-events-none text-gray-500",children:e.jsx(I,{})}),e.jsx("input",{onChange:w,value:c,type:"text",autoComplete:"off",placeholder:"Search Item...",id:"search",className:"block w-full rounded-lg border-0 py-2 pl-10 text-gray-900 ring-1 ring-inset ring-gray-200 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-indigo-600 sm:text-sm sm:leading-6"})]}),e.jsx("div",{className:"mt-4 flex justify-end items-center sm:mt-0 sm:ml-16 sm:flex-none",children:e.jsx(_,{href:route("manage-products.create"),className:"w-full inline-flex items-center justify-center rounded-md border border-transparent bg-indigo-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 sm:w-auto",children:"Add Products"})})]}),e.jsx("div",{className:"mt-8 flex flex-col",children:e.jsx("div",{className:"-my-2 -mx-4 overflow-x-auto sm:-mx-6 lg:-mx-8",children:e.jsxs("div",{className:"inline-block min-w-full py-2 align-middle md:px-6 lg:px-8",children:[e.jsx("div",{children:e.jsx(p,{meta:n.meta,onUpdatePageNumber:f})}),e.jsx(A,{data_table:n,sort_by:o,sort_direction:r,onSorting:P,columnHeader:N,deleteRoute:"manage-products.destroy",editRoute:"manage-products.edit",showRoute:"manage-products.show",objectKey:"manage_product"}),e.jsx("div",{children:e.jsx(p,{meta:n.meta,onUpdatePageNumber:f})})]})})})]})})})})}export{G as default};
